<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pastry | Left Unattended</title>
  <meta name="description" content="A visual collection of cakes, tarts, cookies, and other baked creations by Jen Comstock.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <a href="index.html" class="site-logo">Left Unattended</a>
      <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="main-nav" role="navigation">
        <a href="workshops.html">Workshops</a>
        <a href="comics.html">Comics</a>
        <a href="pastry.html" class="active">Pastry</a>
        <a href="shop.html">Shop</a>
        <a href="about.html">About</a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <div class="container">
      <!-- Page Header -->
      <header class="page-header">
        <img src="assets/images/headers/Pastry_Header.jpg" alt="Colorful fruit tart" class="page-header-image">
        <h1>Pastry</h1>
        <p>A visual collection of cakes, tarts, cookies, and other baked creations from years of home baking and professional training.</p>
      </header>

      <!-- Gallery Grid -->
      <div class="gallery-grid" id="pastry-gallery">
        <!-- Pastry images will be listed here -->
        <p class="text-secondary text-center" style="grid-column: 1 / -1;">Loading gallery...</p>
      </div>
    </div>
  </main>

  <!-- Lightbox -->
  <div class="lightbox" role="dialog" aria-modal="true" aria-label="Image viewer">
    <div class="lightbox-content">
      <button class="lightbox-close" aria-label="Close">&times;</button>
      <button class="lightbox-nav lightbox-prev" aria-label="Previous image">&lsaquo;</button>
      <img src="" alt="">
      <button class="lightbox-nav lightbox-next" aria-label="Next image">&rsaquo;</button>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-content">
        <nav class="footer-links">
          <a href="https://www.etsy.com/shop/LeftUnattendedComics" target="_blank" rel="noopener">Etsy</a>
          <a href="https://www.lulu.com/spotlight/leftunattended" target="_blank" rel="noopener">Lulu</a>
          <a href="https://www.linkedin.com/in/jencomstock/" target="_blank" rel="noopener">LinkedIn</a>
          <a href="https://www.instagram.com/jensdigz/" target="_blank" rel="noopener">Instagram</a>
        </nav>
        <p class="footer-copyright">&copy; 2026 Jen Comstock. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="assets/js/main.js"></script>
  <script>
    // Load pastry images from JSON
    (function() {
      const gallery = document.getElementById('pastry-gallery');

      fetch('data/pastry.json')
        .then(response => response.json())
        .then(images => {
          gallery.innerHTML = images.map(img => `
            <div class="gallery-item">
              <img
                src="assets/images/pastry/${img.filename}"
                alt="${img.title || 'Pastry creation'}"
                data-full-src="assets/images/pastry/${img.filename}"
                loading="lazy"
              >
            </div>
          `).join('');

          // Re-initialize gallery handlers after loading
          initGalleryHandlers();
        })
        .catch(error => {
          console.error('Error loading pastry images:', error);
          gallery.innerHTML = '<p class="text-secondary text-center" style="grid-column: 1 / -1;">Unable to load gallery. Please try again later.</p>';
        });

      function initGalleryHandlers() {
        const galleryItems = document.querySelectorAll('.gallery-item');
        const lightbox = document.querySelector('.lightbox');

        function getVisibleImages() {
          return Array.from(galleryItems).map(item => {
            const img = item.querySelector('img');
            return {
              src: img.dataset.fullSrc || img.src,
              alt: img.alt
            };
          });
        }

        galleryItems.forEach((item, index) => {
          item.addEventListener('click', function() {
            const visibleImages = getVisibleImages();
            if (window.openLightbox) {
              window.openLightbox(visibleImages, index);
            }
          });

          item.setAttribute('tabindex', '0');
          item.setAttribute('role', 'button');
          item.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              item.click();
            }
          });
        });
      }
    })();
  </script>
</body>
</html>
